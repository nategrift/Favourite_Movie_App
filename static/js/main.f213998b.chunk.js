(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,function(e,t,n){e.exports={MovieList:"MovieList_MovieList__2uXh-",imgContainer:"MovieList_imgContainer__1I7_s",missingImage:"MovieList_missingImage__QknpZ",smallText:"MovieList_smallText___Sf7u"}},,,function(e,t,n){e.exports={Banner:"Banner_Banner__1IRiH",bellShake:"Banner_bellShake__aqPsh",show:"Banner_show__1DgTg"}},,function(e,t,n){e.exports={Button:"Button_Button__3R1xi"}},function(e,t,n){e.exports={SearchBox:"SearchBox_SearchBox__1EOgT"}},function(e,t,n){e.exports={Loading:"Loading_Loading__2QGVy","loading-spinning":"Loading_loading-spinning__1qsbr"}},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),i=n(8),o=n.n(i),l=(n(18),n(12)),r=n(2),u=(n(19),n(4)),j=n.n(u),d=n(9),m=n.n(d);var h=function(e){return Object(c.jsx)("button",{className:"".concat(m.a.Button," ").concat(e.classes),onClick:e.click,disabled:e.disabled,children:e.children})},b=n.p+"static/media/image-missing.fc835d59.svg";var x=function(e){var t=e.movies.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:j.a.imgContainer,children:"N/A"!==t.Poster?Object(c.jsx)("img",{src:t.Poster,alt:"".concat(t.Title)}):Object(c.jsx)("img",{src:b,className:j.a.missingImage,alt:"null"})}),Object(c.jsx)("p",{children:"".concat(t.Title," (").concat(t.Year,")")}),Object(c.jsx)(h,{disabled:!!e.excludeList&&e.excludeList.includes(t.imdbID),click:function(n){return e.buttonClick(n.target,t)},children:e.buttonText})]},t.imdbID)}));return Object(c.jsxs)("div",{className:"".concat(j.a.MovieList," ").concat(e.classes),children:[Object(c.jsx)("h2",{children:"".concat(e.title," ").concat(e.totalDisplayed?"(".concat(e.totalDisplayed,")"):"")}),e.totalResults?Object(c.jsx)("p",{className:j.a.smallText,children:"".concat(e.totalResults," results found")}):null,Object(c.jsx)("ul",{children:t})]})},O=n(10),p=n.n(O),f=n.p+"static/media/search.21f97333.svg";var g=function(e){return Object(c.jsxs)("div",{className:p.a.SearchBox,children:[Object(c.jsx)("h2",{children:e.title}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:f,alt:"Search"}),Object(c.jsx)("input",{value:e.inputText,onChange:e.setInputText})]})]})},v=n(11),_=n.n(v);var S=function(){return Object(c.jsx)("div",{className:_.a.Loading})},N=n(7),T=n.n(N),I=n.p+"static/media/bell.f5b14a29.svg";var k=function(e){return Object(c.jsxs)("div",{className:"".concat(T.a.Banner," ").concat(e.show?T.a.show:""),children:[Object(c.jsx)("img",{src:I,alt:"Notification"}),Object(c.jsx)("p",{children:e.text}),Object(c.jsx)(h,{click:e.click,children:"X"})]})},w="cae18993";var y=function(){var e,t,n=Object(a.useState)(""),s=Object(r.a)(n,2),i=s[0],o=s[1],u=Object(a.useState)(null),j=Object(r.a)(u,2),d=j[0],m=j[1],h=Object(a.useState)([]),b=Object(r.a)(h,2),O=b[0],p=b[1],f=Object(a.useState)(null),v=Object(r.a)(f,2),_=v[0],N=v[1],T=Object(a.useState)(null),I=Object(r.a)(T,2),y=I[0],B=I[1],L=Object(a.useState)(!1),M=Object(r.a)(L,2),D=M[0],R=M[1];return e=d&&i?Object(c.jsx)(x,{movies:d.Search,totalResults:d.totalResults,title:'Results for "'.concat(i,'"'),classes:"card",buttonText:"Nominate",buttonClick:function(e,t){if(O.length>=4&&(B("".concat(O.length+1," Nominations Selected!  You have reached the max nominations allowed.")),setTimeout((function(){R(!0)}),30)),O.length<5){e.disabled=!0;var n=[].concat(Object(l.a)(O),[t]),c=n.map((function(e){return e.imdbID}));localStorage.setItem("nominated",JSON.stringify(c)),p(n)}},excludeList:O.map((function(e){return e.imdbID}))}):!d&&i&&_?Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("p",{className:"error",children:_}),Object(c.jsx)("p",{className:"errorSmall",children:"Type in the search box to retry"})]}):!d&&i?Object(c.jsx)("div",{className:"card",children:Object(c.jsx)(S,{})}):Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("p",{className:"error",children:"Minimum 3 characters to Search"}),Object(c.jsx)("p",{className:"errorSmall",children:"Type movie titles in search box"})]}),O&&O.length>0?t=Object(c.jsx)(x,{movies:O,title:"Nominated Movies",classes:"card",buttonText:"Remove",buttonClick:function(e,t){var n=O.filter((function(e){return e.imdbID!==t.imdbID})),c=n.map((function(e){return e.imdbID}));c.length>0?localStorage.setItem("nominated",JSON.stringify(c)):localStorage.removeItem("nominated"),p(n)},totalDisplayed:O.length}):null!==localStorage.getItem("nominated")&&O.length<=0&&(t=Object(c.jsx)("div",{className:"card",children:Object(c.jsx)(S,{})})),Object(a.useEffect)((function(){var e=localStorage.getItem("nominated");if(e){var t=JSON.parse(e),n=[],c=[];t.forEach((function(e){c.push(fetch("https://www.omdbapi.com/?apikey=".concat(w,"&i=").concat(e)).then((function(e){return e.json()})).then((function(e){"True"===e.Response?n.push(e):N(e.Error)}),(function(e){N(e)})))})),Promise.all(c).then((function(){p(n)}))}}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{children:Object(c.jsx)("h1",{children:"The Shoppies"})}),Object(c.jsx)("section",{className:"full-width card",children:Object(c.jsx)(g,{inputText:i,setInputText:function(e){o(e.target.value),m(null),N(null),e.target.value.length>2?fetch("https://www.omdbapi.com/?apikey=".concat(w,"&s=").concat(e.target.value,"&type=movie")).then((function(e){return e.json()})).then((function(e){"True"===e.Response?m(e):N(e.Error)}),(function(e){N(e)})):N("Minimum 3 characters to Search")},title:"Movie title"})}),Object(c.jsxs)("section",{className:"columns-two",children:[e,t]}),y?Object(c.jsx)(k,{text:y,show:D,click:function(){R(!1),setTimeout((function(){B(null)}),200)}}):null]})};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.f213998b.chunk.js.map